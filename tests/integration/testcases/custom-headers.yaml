name: "Custom Headers"
description: "Test forwarding and handling of custom headers"

backend:
  endpoints:
    - path: /api/headers
      method: GET
      response:
        status: 200
        headers:
          Content-Type: application/json
          X-Custom-Header: backend-value
          X-Server-Id: server-123
        body: '{"headers":"received"}'

uncors:
  http-port: 3003
  mappings:
    - from: http://localhost:3003
      to: "{{backend}}"

tests:
  - name: "Forward custom request headers"
    requests:
      - method: GET
        path: /api/headers
        headers:
          X-Client-Id: client-456
          Authorization: Bearer token123
    expected:
      status: 200
      headers:
        Content-Type: application/json
        X-Custom-Header: backend-value
        X-Server-Id: server-123
